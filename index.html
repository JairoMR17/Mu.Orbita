<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta
    name="description"
    content="Mu.Orbita - Inteligencia satelital empresarial para agricultura de precisi√≥n. Transforma datos espaciales en decisiones accionables."
  />
  <title>Mu.Orbita | Precisi√≥n desde √ìrbita ‚Äì Sostenibilidad desde Datos</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet"
  />

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css"
  />

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
  <script src="https://npmcdn.com/@turf/turf/turf.min.js"></script>

  <script src="https://js.stripe.com/v3/"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --black: #000000;
      --near-black: #0a0a0a;
      --dark-gray: #1a1a1a;
      --mid-gray: #2a2a2a;
      --light-gray: #888888;
      --white: #ffffff;
      --off-white: #f5f5f5;

      --green: #00cc66;
      --yellow: #ffcc00;
      --red: #ff4444;
      --blue: #0099ff;

      --nav-bg: rgba(0, 0, 0, 0.95);
      --border-color-faded: rgba(255, 255, 255, 0.05);
      --border-color-medium: rgba(255, 255, 255, 0.1);
      --border-color-strong: rgba(255, 255, 255, 0.2);
      --shadow-color-faded: rgba(0, 0, 0, 0.4);
      --shadow-color-medium: rgba(0, 0, 0, 0.5);
      --shadow-color-strong: rgba(0, 0, 0, 0.6);
    }

    body.light-mode {
      --black: #f9f7f2;
      --near-black: #f0ebe0;
      --dark-gray: #e6ddd0;
      --mid-gray: #dbcdbA;
      --light-gray: #7a6555;
      --white: #3e2b1d;
      --off-white: #5c4033;

      --green: #9e7e46;
      --yellow: #cc9933;
      --red: #cc4444;
      --blue: #0077cc;

      --nav-bg: rgba(249, 247, 242, 0.95);

      --border-color-faded: rgba(62, 43, 29, 0.08);
      --border-color-medium: rgba(62, 43, 29, 0.15);
      --border-color-strong: rgba(62, 43, 29, 0.25);
      --shadow-color-faded: rgba(62, 43, 29, 0.05);
      --shadow-color-medium: rgba(62, 43, 29, 0.1);
      --shadow-color-strong: rgba(62, 43, 29, 0.15);
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
      color: var(--white);
      background: var(--black);
      overflow-x: hidden;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .planet-bg {
      position: fixed;
      top: -30%;
      right: -15%;
      width: 1200px;
      height: 1200px;
      border-radius: 50%;
      background: radial-gradient(
        circle at 35% 35%,
        rgba(255, 255, 255, 0.015),
        transparent 55%
      );
      border: 1px solid rgba(255, 255, 255, 0.02);
      pointer-events: none;
      z-index: 0;
    }

    body.light-mode .planet-bg {
      display: none;
    }

    nav {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      background: var(--nav-bg);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-color-faded);
      transition: all 0.3s ease;
    }

    .nav-container {
      max-width: 1600px;
      margin: 0 auto;
      padding: 1.1rem 3rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-logo {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--white);
      text-decoration: none;
      letter-spacing: -0.5px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.6rem;
    }

    .nav-logo-img {
      height: 32px;
      width: 32px;
      border-radius: 50%;
      display: block;
      box-shadow: 0 0 20px rgba(158, 126, 70, 0.4);
    }

    .nav-links {
      display: flex;
      gap: 1.8rem;
      list-style: none;
      align-items: center;
    }

    .nav-links a {
      color: var(--light-gray);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.9rem;
      transition: color 0.3s ease;
      letter-spacing: 0.3px;
      cursor: pointer;
    }

    .nav-links a:hover {
      color: var(--white);
    }

    .nav-cta {
      background: var(--white);
      color: var(--black) !important;
      padding: 0.6rem 1.5rem;
      border-radius: 6px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    body.light-mode .nav-cta {
      background: var(--green);
      color: #ffffff !important;
    }

    .nav-cta:hover {
      background: var(--off-white);
      transform: translateY(-1px);
    }

    body.light-mode .nav-cta:hover {
      background: #7d6336;
    }

    .lang-selector {
      display: flex;
      gap: 0.5rem;
      margin-left: 1rem;
    }

    .lang-selector a {
      padding: 0.3rem 0.7rem;
      border: 1px solid var(--border-color-medium);
      border-radius: 4px;
      font-size: 0.8rem;
      color: var(--light-gray);
    }

    .lang-selector a.active {
      background: var(--white);
      color: var(--black);
      border-color: var(--white);
    }

    body.light-mode .lang-selector a.active {
      background: var(--green);
      color: #fff;
      border-color: var(--green);
    }

    #theme-toggle {
      font-size: 1.1rem;
      padding: 0.35rem 0.5rem;
      background: var(--dark-gray);
      border-radius: 6px;
      line-height: 1;
      cursor: pointer;
    }

    body.light-mode #theme-toggle {
      background: var(--mid-gray);
      color: var(--white);
    }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      color: var(--white);
      font-size: 1.8rem;
      cursor: pointer;
    }

    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      background: var(--black);
      z-index: 1;
      padding-top: 80px;
    }

    .hero-content {
      text-align: center;
      z-index: 10;
      padding: 2rem;
    }

    .hero-logo-container {
      margin-bottom: 3rem;
      animation: fadeIn 1.5s ease-out;
    }

    .hero-logo-img {
      width: 220px;
      height: 220px;
      margin: 0 auto;
      display: block;
      border-radius: 50%;
      box-shadow: 0 0 60px rgba(158, 126, 70, 0.3);
      transition: transform 0.5s ease;
    }

    .hero-logo-img:hover {
      transform: scale(1.05);
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .hero h1 {
      font-size: 4rem;
      font-weight: 300;
      margin-bottom: 1rem;
      color: var(--white);
      letter-spacing: -1px;
      animation: fadeIn 1.5s ease-out 0.3s both;
    }

    .hero h1 .mu {
      font-family: Georgia, serif;
      font-style: italic;
      font-weight: 400;
      color: var(--green);
    }

    body:not(.light-mode) .hero h1 .mu {
      color: inherit;
    }

    .hero-tagline {
      font-size: 1.3rem;
      font-weight: 300;
      color: var(--light-gray);
      letter-spacing: 1px;
      animation: fadeIn 1.5s ease-out 0.6s both;
    }

    .section-dark {
      background: var(--near-black);
      padding: 6rem 3rem;
      border-top: 1px solid var(--border-color-faded);
    }

    .section-darker {
      background: var(--black);
      padding: 6rem 3rem;
      border-top: 1px solid var(--border-color-faded);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 4rem;
    }

    .section-label {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 3px;
      color: var(--green);
      margin-bottom: 1rem;
      font-weight: 600;
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 300;
      margin-bottom: 1.2rem;
      color: var(--white);
      letter-spacing: -0.5px;
      line-height: 1.2;
    }

    .section-description {
      font-size: 1rem;
      color: var(--light-gray);
      max-width: 650px;
      margin: 0 auto;
      line-height: 1.7;
    }

    .tech-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      align-items: center;
      margin-top: 3rem;
    }

    .tech-image {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 20px 60px var(--shadow-color-medium);
    }

    .tech-image img {
      width: 100%;
      height: auto;
      display: block;
      filter: brightness(0.9) contrast(1.1);
    }

    body.light-mode .tech-image img {
      filter: none;
    }

    .tech-content {
      padding: 1.5rem;
    }

    .tech-feature {
      margin-bottom: 1.8rem;
      padding-left: 1.5rem;
      border-left: 2px solid var(--green);
    }

    .tech-feature h3 {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 0.6rem;
      color: var(--white);
    }

    .tech-feature p {
      color: var(--light-gray);
      line-height: 1.7;
      font-size: 0.95rem;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 2rem;
      margin-top: 3rem;
    }

    .stat-number {
      font-size: 2.3rem;
      font-weight: 700;
      color: var(--white);
      margin-bottom: 0.3rem;
    }

    .stat-label {
      font-size: 0.8rem;
      color: var(--light-gray);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .pricing-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      margin-top: 3rem;
    }

    .pricing-card {
      background: var(--dark-gray);
      padding: 2.5rem 2rem;
      border-radius: 12px;
      border: 1px solid var(--border-color-faded);
      transition: all 0.3s ease;
      position: relative;
    }

    .pricing-card:hover {
      transform: translateY(-6px);
      border-color: var(--green);
      box-shadow: 0 18px 50px var(--shadow-color-faded);
    }

    .pricing-card.featured {
      background: var(--mid-gray);
      border-color: var(--green);
      transform: scale(1.03);
    }

    body.light-mode .pricing-card.featured {
      background: #e8dacb;
    }

    .pricing-badge {
      position: absolute;
      top: 1.4rem;
      right: 1.4rem;
      background: var(--green);
      color: #ffffff;
      padding: 0.3rem 0.9rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .pricing-tier {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: var(--light-gray);
      margin-bottom: 0.4rem;
    }

    .pricing-name {
      font-size: 1.6rem;
      font-weight: 700;
      margin-bottom: 0.8rem;
      color: var(--white);
    }

    .pricing-price {
      font-size: 2.4rem;
      font-weight: 700;
      margin-bottom: 0.8rem;
      color: var(--white);
    }

    .pricing-price span {
      font-size: 0.9rem;
      font-weight: 400;
      color: var(--light-gray);
    }

    .pricing-description {
      color: var(--light-gray);
      margin-bottom: 1.5rem;
      line-height: 1.6;
      font-size: 0.95rem;
    }

    .pricing-features {
      list-style: none;
      margin-bottom: 2rem;
      font-size: 0.9rem;
    }

    .pricing-features li {
      padding: 0.6rem 0;
      color: var(--light-gray);
      border-bottom: 1px solid var(--border-color-faded);
    }

    .pricing-features li:last-child {
      border-bottom: none;
    }

    .pricing-cta {
      display: block;
      text-align: center;
      padding: 0.9rem;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .btn-primary {
      background: var(--white);
      color: var(--black);
    }

    body.light-mode .btn-primary {
      background: var(--green);
      color: #ffffff;
    }

    .btn-primary:hover {
      background: var(--off-white);
      transform: translateY(-2px);
    }

    body.light-mode .btn-primary:hover {
      background: #7d6336;
      color: #fff;
    }

    .btn-secondary {
      background: transparent;
      color: var(--white);
      border: 1px solid var(--border-color-strong);
    }

    .btn-secondary:hover {
      background: var(--border-color-faded);
      border-color: var(--green);
      color: var(--green);
    }

    .payment-container {
      max-width: 650px;
      margin: 0 auto;
      background: var(--dark-gray);
      padding: 3rem 2.5rem;
      border-radius: 12px;
      border: 1px solid var(--border-color-medium);
    }

    .payment-logo {
      text-align: center;
      margin-bottom: 2rem;
    }

    .payment-logo img {
      border-radius: 50%;
    }

    .form-group {
      margin-bottom: 1.3rem;
    }

    .form-label {
      display: block;
      margin-bottom: 0.4rem;
      color: var(--light-gray);
      font-size: 0.9rem;
      font-weight: 500;
    }

    .form-input,
    .form-select {
      width: 100%;
      padding: 0.9rem;
      background: var(--mid-gray);
      border: 1px solid var(--border-color-medium);
      border-radius: 6px;
      color: var(--white);
      font-size: 0.95rem;
      font-family: "Inter", sans-serif;
      transition: all 0.3s ease;
    }

    .form-input:focus,
    .form-select:focus {
      outline: none;
      border-color: var(--green);
      background: var(--near-black);
    }

    .form-input[readonly] {
      background: var(--near-black);
      font-weight: 600;
      color: var(--green);
      cursor: not-allowed;
    }

    #payment-map {
      height: 350px;
      border-radius: 6px;
      background: var(--mid-gray);
      margin-bottom: 0.7rem;
    }

    #card-element {
      padding: 0.9rem;
      background: var(--mid-gray);
      border: 1px solid var(--border-color-medium);
      border-radius: 6px;
    }

    #card-errors {
      color: #ff6b6b;
      margin-top: 0.5rem;
      font-size: 0.85rem;
    }

    .submit-button {
      width: 100%;
      padding: 1rem;
      background: var(--white);
      color: var(--black);
      border: none;
      border-radius: 6px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 1rem;
    }

    body.light-mode .submit-button {
      background: var(--green);
      color: #ffffff;
    }

    .submit-button:hover {
      background: var(--off-white);
      transform: translateY(-2px);
    }

    body.light-mode .submit-button:hover {
      background: #7d6336;
    }

    .submit-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    footer {
      background: var(--near-black);
      padding: 3.5rem 3rem 2rem;
      border-top: 1px solid var(--border-color-faded);
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: 2.5rem;
      margin-bottom: 2.5rem;
    }

    .footer-brand h3 {
      font-size: 1.4rem;
      margin-bottom: 0.8rem;
      color: var(--white);
    }

    .footer-brand p {
      color: var(--light-gray);
      line-height: 1.7;
      font-size: 0.93rem;
    }

    .footer-column h4 {
      margin-bottom: 1.2rem;
      color: var(--white);
      font-size: 0.95rem;
    }

    .footer-column ul {
      list-style: none;
    }

    .footer-column ul li {
      margin-bottom: 0.6rem;
    }

    .footer-column ul li a {
      color: var(--light-gray);
      text-decoration: none;
      transition: color 0.3s ease;
      font-size: 0.9rem;
    }

    .footer-column ul li a:hover {
      color: var(--green);
    }

    .footer-bottom {
      max-width: 1200px;
      margin: 0 auto;
      padding-top: 1.8rem;
      border-top: 1px solid var(--border-color-faded);
      text-align: center;
      color: var(--light-gray);
      font-size: 0.8rem;
    }

    .fade-in {
      opacity: 0;
      transform: translateY(25px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }

    @media (max-width: 1024px) {
      .tech-grid {
        grid-template-columns: 1fr;
      }
      .pricing-grid {
        grid-template-columns: 1fr;
      }
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      .footer-content {
        grid-template-columns: 1fr 1fr;
      }
    }

    @media (max-width: 768px) {
      .hero {
        padding-top: 90px;
      }

      .hero h1 {
        font-size: 2.7rem;
      }

      .hero-logo-img {
        width: 150px;
        height: 150px;
      }

      .section-dark,
      .section-darker {
        padding: 4rem 1.5rem;
      }

      .nav-container {
        padding: 1rem 1.5rem;
      }

      .nav-links {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        background: var(--nav-bg);
        flex-direction: column;
        padding: 1.5rem;
        gap: 1.3rem;
        border-bottom: 1px solid var(--border-color-faded);
      }

      .nav-links.active {
        display: flex;
      }

      .mobile-menu-btn {
        display: block;
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }

      .footer-content {
        grid-template-columns: 1fr;
      }

      .lang-selector {
        margin-left: 0;
      }
    }
  </style>
</head>
<body>
  <div class="planet-bg"></div>

  <nav>
    <div class="nav-container">
      <a href="#hero" class="nav-logo">
        <img src="Logo_v2.jpg" alt="Mu.Orbita" class="nav-logo-img" />
        <span>Mu.Orbita</span>
      </a>

      <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>

      <ul class="nav-links" id="navLinks">
        <li><a href="#tecnologia">Tecnolog√≠a</a></li>
        <li><a href="#impacto">Impacto</a></li>
        <li><a href="#precios">Planes</a></li>
        <li><a href="#pago">Comenzar</a></li>

        <li class="lang-selector">
          <a href="#" class="active">ES</a>
          <a href="#">EN</a>
        </li>
        <li>
          <a id="theme-toggle" title="Cambiar de tema">‚òÄ</a>
        </li>
        <li>
          <a href="#pago" class="nav-cta">Acceso Cliente</a>
        </li>
      </ul>
    </div>
  </nav>

  <main>
    <section class="hero" id="hero">
      <div class="hero-content">
        <div class="hero-logo-container">
          <img src="Logo_v2.jpg" alt="Mu.Orbita" class="hero-logo-img" />
        </div>
        <h1><span class="mu">Mu</span>.Orbita</h1>
        <p class="hero-tagline">
          Inteligencia satelital para la nueva agricultura
        </p>
      </div>
    </section>

    <section id="tecnologia" class="section-dark">
      <div class="container">
        <div class="section-header fade-in">
          <p class="section-label">Tecnolog√≠a</p>
          <h2 class="section-title">
            Precisi√≥n desde √≥rbita,<br />acci√≥n en la parcela
          </h2>
          <p class="section-description">
            Im√°genes satelitales, √≠ndices espectrales y algoritmos de IA para
            detectar estr√©s, anomal√≠as y potencial de rendimiento antes de que
            sean visibles en campo.
          </p>
        </div>

        <div class="tech-grid">
          <div class="tech-image fade-in">
            <img
              src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=1000&auto=format&fit=crop"
              alt="Vista satelital"
            />
          </div>
          <div class="tech-content">
            <div class="tech-feature fade-in">
              <h3>NDVI & √çndices Espectrales</h3>
              <p>
                Monitoreo de vigor vegetal, estr√©s h√≠drico (NDWI) y contenido de
                clorofila con actualizaci√≥n cada 5‚Äì10 d√≠as en olivar, vi√±a y
                almendro.
              </p>
            </div>
            <div class="tech-feature fade-in">
              <h3>Detecci√≥n Temprana de Anomal√≠as</h3>
              <p>
                Alertas autom√°ticas sobre plagas, deficiencias de riego o
                problemas de suelo, localizadas por sectores dentro de la
                explotaci√≥n.
              </p>
            </div>
            <div class="tech-feature fade-in">
              <h3>Hist√≥rico Clim√°tico</h3>
              <p>
                Series de clima local (10+ a√±os) para anticipar riesgos
                (heladas, olas de calor) y planificar campa√±as con mayor
                seguridad.
              </p>
            </div>
          </div>
        </div>

        <div class="stats-grid">
          <div class="fade-in">
            <div class="stat-number">98%</div>
            <div class="stat-label">Precisi√≥n de datos</div>
          </div>
          <div class="fade-in">
            <div class="stat-number">500+</div>
            <div class="stat-label">Fincas monitorizadas</div>
          </div>
          <div class="fade-in">
            <div class="stat-number">24/7</div>
            <div class="stat-label">Vigilancia satelital</div>
          </div>
          <div class="fade-in">
            <div class="stat-number">-30%</div>
            <div class="stat-label">Ahorro en insumos</div>
          </div>
        </div>
      </div>
    </section>

    <section id="impacto" class="section-darker">
      <div class="container">
        <div class="section-header fade-in">
          <p class="section-label">Impacto</p>
          <h2 class="section-title">Resultados medibles en tu explotaci√≥n</h2>
          <p class="section-description">
            Nuestros clientes reportan mejoras en riego, insumos y estabilidad
            de rendimientos desde la primera campa√±a.
          </p>
        </div>

        <div class="tech-grid">
          <div class="tech-content">
            <div class="tech-feature fade-in">
              <h3>Ahorro de agua</h3>
              <p>
                Reducciones del 20‚Äì25% en consumo de riego mediante zonificaci√≥n
                h√≠drica (NDWI) y programaci√≥n ajustada a riesgo real.
              </p>
            </div>
            <div class="tech-feature fade-in">
              <h3>Menos p√©rdidas por estr√©s</h3>
              <p>
                Detecci√≥n temprana de zonas en declive de NDVI para actuar antes
                de que el estr√©s sea irreversible.
              </p>
            </div>
            <div class="tech-feature fade-in">
              <h3>Cumplimiento PAC simplificado</h3>
              <p>
                Reportes autom√°ticos de cobertura, estado del cultivo y
                pr√°cticas sostenibles listos para auditor√≠as.
              </p>
            </div>
          </div>
          <div class="tech-image fade-in">
            <img
              src="https://images.unsplash.com/photo-1523348837708-15d4a09cfac2?w=800&q=85"
              alt="Agricultura de precisi√≥n"
            />
          </div>
        </div>
      </div>
    </section>

    <section id="precios" class="section-dark">
      <div class="container">
        <div class="section-header fade-in">
          <p class="section-label">Planes</p>
          <h2 class="section-title">Escala con tu cultivo</h2>
          <p class="section-description">
            Modelo simple: precio por hect√°rea y nivel de inteligencia. Sin
            permanencias complejas.
          </p>
        </div>

        <div class="pricing-grid">
          <div class="pricing-card fade-in">
            <div class="pricing-tier">Nivel I</div>
            <h3 class="pricing-name">Essential</h3>
            <div class="pricing-price">‚Ç¨6<span>/ha/a√±o</span></div>
            <p class="pricing-description">
              Monitoreo satelital b√°sico para dar el primer salto a la
              digitalizaci√≥n.
            </p>
            <ul class="pricing-features">
              <li>√çndices NDVI, NDWI, EVI</li>
              <li>Actualizaci√≥n cada 10 d√≠as</li>
              <li>Reporte mensual</li>
              <li>Dashboard en la nube</li>
              <li>Soporte por email</li>
            </ul>
            <a href="#pago" class="pricing-cta btn-secondary">Comenzar</a>
          </div>

          <div class="pricing-card featured fade-in">
            <div class="pricing-badge">Recomendado</div>
            <div class="pricing-tier">Nivel II</div>
            <h3 class="pricing-name">Professional</h3>
            <div class="pricing-price">‚Ç¨12<span>/ha/a√±o</span></div>
            <p class="pricing-description">
              Para explotaciones que toman decisiones semanales basadas en
              datos.
            </p>
            <ul class="pricing-features">
              <li>Todo en Essential</li>
              <li>Actualizaci√≥n cada 5 d√≠as</li>
              <li>Alertas autom√°ticas de estr√©s</li>
              <li>Zonificaci√≥n VRA (3 zonas)</li>
              <li>Series temporales avanzadas</li>
              <li>Soporte prioritario</li>
            </ul>
            <a href="#pago" class="pricing-cta btn-primary">Calcular precio</a>
          </div>

          <div class="pricing-card fade-in">
            <div class="pricing-tier">Nivel III</div>
            <h3 class="pricing-name">Enterprise</h3>
            <div class="pricing-price">‚Ç¨20<span>/ha/a√±o</span></div>
            <p class="pricing-description">
              Para cooperativas, grupos de agricultores y grandes patrimonios.
            </p>
            <ul class="pricing-features">
              <li>Todo en Professional</li>
              <li>IA de recomendaciones agron√≥micas</li>
              <li>Integraci√≥n con ERPs/Cuaderno de campo</li>
              <li>Acceso API completo</li>
              <li>Soporte dedicado</li>
            </ul>
            <a href="#pago" class="pricing-cta btn-secondary">Hablar con ventas</a>
          </div>
        </div>

        <div
          style="text-align: center; margin-top: 2.5rem"
          class="fade-in"
        >
          <p style="color: var(--light-gray); font-size: 0.9rem">
            M√≠nimo de facturaci√≥n: ‚Ç¨250/a√±o por cliente ¬∑ Precios sin IVA ¬∑
            Condiciones especiales para >1000 ha
          </p>
        </div>
      </div>
    </section>

    <section id="pago" class="section-darker">
      <div class="container">
        <div class="section-header fade-in">
          <p class="section-label">Activaci√≥n</p>
          <h2 class="section-title">Activa tu monitoreo satelital</h2>
          <p class="section-description">
            Dibuja tu finca, selecciona el plan y completa el pago seguro. En
            menos de 48h tendr√°s tus primeros mapas.
          </p>
        </div>

        <div class="payment-container fade-in">
          <div class="payment-logo">
            <img src="Logo_v2.jpg" alt="Mu.Orbita" width="64" />
            <h2 style="margin-top: 1rem">Configurar suscripci√≥n</h2>
            <p style="color: var(--light-gray)">
              Precio en funci√≥n de hect√°reas y plan
            </p>
          </div>

          <form id="payment-form">
            <div class="form-group">
              <label class="form-label">Nombre completo</label>
              <input
                type="text"
                class="form-input"
                id="name"
                placeholder="Juan Garc√≠a L√≥pez"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label">Email</label>
              <input
                type="email"
                class="form-input"
                id="email"
                placeholder="juan@explotacion.com"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label">Tel√©fono</label>
              <input
                type="tel"
                class="form-input"
                id="phone"
                placeholder="+34 600 000 000"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label">Dibuja tu finca</label>
              <p
                style="
                  font-size: 0.85rem;
                  color: var(--light-gray);
                  margin-bottom: 0.6rem;
                "
              >
                Usa la herramienta de pol√≠gono para dibujar el contorno de tu
                explotaci√≥n.
              </p>
              <div id="payment-map"></div>
            </div>

            <div class="form-group">
              <label class="form-label">√Årea calculada</label>
              <input
                type="text"
                class="form-input"
                id="calculated-hectares"
                value="0.00 ha"
                readonly
              />
              <input
                type="hidden"
                id="hectares"
                name="hectares"
                value="0"
              />
            </div>

            <div class="form-group">
              <label class="form-label">Tipo de cultivo</label>
              <select class="form-select" id="crop" required>
                <option value="">Selecciona...</option>
                <option value="olive">Olivo</option>
                <option value="vineyard">Vi√±edo</option>
                <option value="almond">Almendro</option>
                <option value="other">Otros</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">Plan</label>
              <select class="form-select" id="plan" required>
                <option value="">Selecciona un plan...</option>
                <option value="essential">Essential - ‚Ç¨6/ha/a√±o</option>
                <option value="professional">Professional - ‚Ç¨12/ha/a√±o</option>
                <option value="enterprise">Enterprise - ‚Ç¨20/ha/a√±o</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">Tarjeta de pago</label>
              <div id="card-element"></div>
              <div id="card-errors" role="alert"></div>
            </div>

            <button
              type="submit"
              class="submit-button"
              id="submit-button"
              disabled
            >
              <span id="button-text">Dibuja tu finca para calcular el precio</span>
            </button>

            <p
              style="
                text-align: center;
                margin-top: 1.2rem;
                font-size: 0.85rem;
                color: var(--light-gray);
              "
            >
              üîí Pago simulado en esta demo. En producci√≥n se usar√° Stripe con
              conexi√≥n segura.
            </p>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer id="contact">
    <div class="footer-content">
      <div class="footer-brand">
        <h3>Mu.Orbita</h3>
        <p>
          Democratizando la agricultura de precisi√≥n con tecnolog√≠a satelital de
          vanguardia. Ayudamos a alimentar al mundo de forma sostenible.
        </p>
      </div>
      <div class="footer-column">
        <h4>Plataforma</h4>
        <ul>
          <li><a href="#pago">Crear cuenta</a></li>
          <li><a href="#pago">Acceso cliente</a></li>
          <li><a href="#precios">Precios</a></li>
          <li><a href="#">API Docs (pr√≥ximamente)</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h4>Empresa</h4>
        <ul>
          <li><a href="#">Sobre nosotros</a></li>
          <li><a href="#">Blog</a></li>
          <li><a href="#">Carreras</a></li>
          <li><a href="#contact">Contacto</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h4>Legal</h4>
        <ul>
          <li><a href="#">Privacidad</a></li>
          <li><a href="#">T√©rminos</a></li>
          <li><a href="#">Cookies</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      &copy; 2025 Mu.Orbita Agriculture Tech. Todos los derechos reservados.
    </div>
  </footer>

  <script>
    // --- Tema persistente ---
    const themeToggle = document.getElementById("theme-toggle");
    const body = document.body;

    function applySavedTheme() {
      const savedTheme = localStorage.getItem("theme");
      if (savedTheme === "light") {
        body.classList.add("light-mode");
        if (themeToggle) themeToggle.innerHTML = "‚òæ";
      } else {
        if (themeToggle) themeToggle.innerHTML = "‚òÄ";
      }
    }

    applySavedTheme();

    if (themeToggle) {
      themeToggle.addEventListener("click", () => {
        body.classList.toggle("light-mode");
        const isLight = body.classList.contains("light-mode");
        localStorage.setItem("theme", isLight ? "light" : "dark");
        themeToggle.innerHTML = isLight ? "‚òæ" : "‚òÄ";
      });
    }

    // --- Men√∫ m√≥vil ---
    const mobileMenuBtn = document.getElementById("mobileMenuBtn");
    const navLinks = document.getElementById("navLinks");

    if (mobileMenuBtn) {
      mobileMenuBtn.addEventListener("click", () => {
        navLinks.classList.toggle("active");
      });
    }

    // Cerrar men√∫ al hacer clic en un anchor
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
      anchor.addEventListener("click", function () {
        if (navLinks) navLinks.classList.remove("active");
      });
    });

    // --- Animaciones scroll ---
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) entry.target.classList.add("visible");
        });
      },
      { threshold: 0.1 }
    );

    document
      .querySelectorAll(".fade-in")
      .forEach((el) => observer.observe(el));

    // --- Leaflet mapa de pago ---
    let paymentMapInstance;
    let paymentTileLayer;

    const darkTileUrl =
      "https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png";
    const lightTileUrl =
      "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png";

    function getCurrentTileUrl() {
      return document.body.classList.contains("light-mode")
        ? lightTileUrl
        : darkTileUrl;
    }

    function initializePaymentMap() {
      const mapDiv = document.getElementById("payment-map");
      if (!mapDiv) return;
      if (paymentMapInstance) return;

      paymentMapInstance = L.map("payment-map").setView(
        [37.3891, -5.9845],
        6
      );
      paymentTileLayer = L.tileLayer(getCurrentTileUrl(), {
        attribution: "",
        subdomains: "abcd",
        maxZoom: 19,
      }).addTo(paymentMapInstance);

      const drawnItems = new L.FeatureGroup();
      paymentMapInstance.addLayer(drawnItems);

      const drawControl = new L.Control.Draw({
        edit: {
          featureGroup: drawnItems,
          poly: { allowIntersection: false },
        },
        draw: {
          polygon: {
            allowIntersection: false,
            showArea: true,
            shapeOptions: {
              color: "#00cc66",
              fillColor: "#00cc66",
              fillOpacity: 0.3,
            },
          },
          polyline: false,
          rectangle: false,
          circle: false,
          marker: false,
          circlemarker: false,
        },
      });
      paymentMapInstance.addControl(drawControl);

      const submitButton = document.getElementById("submit-button");
      const buttonText = document.getElementById("button-text");
      const calculatedHectaresInput =
        document.getElementById("calculated-hectares");
      const hiddenHectaresInput = document.getElementById("hectares");

      function updateArea(layer) {
        const geojson = layer.toGeoJSON();
        const areaInMeters = turf.area(geojson);
        const areaInHectares = areaInMeters / 10000;
        calculatedHectaresInput.value = `${areaInHectares.toFixed(2)} ha`;
        hiddenHectaresInput.value = areaInHectares.toFixed(2);

        submitButton.disabled = false;
        buttonText.textContent = "Pagar y activar monitoreo";
      }

      paymentMapInstance.on(L.Draw.Event.CREATED, function (event) {
        drawnItems.clearLayers();
        drawnItems.addLayer(event.layer);
        updateArea(event.layer);
      });

      paymentMapInstance.on(L.Draw.Event.EDITED, function (event) {
        event.layers.eachLayer((layer) => updateArea(layer));
      });

      paymentMapInstance.on(L.Draw.Event.DELETED, function () {
        calculatedHectaresInput.value = "0.00 ha";
        hiddenHectaresInput.value = "0";
        submitButton.disabled = true;
        buttonText.textContent = "Dibuja tu finca para calcular el precio";
      });
    }

    // --- Stripe DEMO ---
    let stripeInstance, cardElementInstance;

    function initializeStripe() {
      const cardDiv = document.getElementById("card-element");
      if (!cardDiv) return;

      if (cardElementInstance) cardElementInstance.destroy();

      try {
        stripeInstance = Stripe(
          "pk_test_51234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ"
        ); // cambiar en producci√≥n
      } catch (e) {
        console.warn("Stripe no disponible en este entorno (demo).");
        return;
      }

      const elements = stripeInstance.elements();
      const isLight = document.body.classList.contains("light-mode");

      const style = {
        base: {
          color: isLight ? "#0a0a0a" : "#ffffff",
          fontFamily: '"Inter", sans-serif',
          fontSmoothing: "antialiased",
          fontSize: "16px",
          "::placeholder": {
            color: isLight ? "#555555" : "#888888",
          },
        },
        invalid: {
          color: "#ff6b6b",
          iconColor: "#ff6b6b",
        },
      };

      cardElementInstance = elements.create("card", { style });
      cardElementInstance.mount("#card-element");

      cardElementInstance.on("change", function (event) {
        const displayError = document.getElementById("card-errors");
        displayError.textContent = event.error ? event.error.message : "";
      });

      const form = document.getElementById("payment-form");
      const submitBtn = document.getElementById("submit-button");
      const btnText = document.getElementById("button-text");

      form.addEventListener("submit", function (event) {
        event.preventDefault();

        submitBtn.disabled = true;
        btnText.textContent = "Procesando...";

        const hectares = parseFloat(
          document.getElementById("hectares").value || "0"
        );
        const plan = document.getElementById("plan").value;
        let pricePerHa = 0;

        if (plan === "essential") pricePerHa = 6;
        else if (plan === "professional") pricePerHa = 12;
        else if (plan === "enterprise") pricePerHa = 20;

        const totalPrice = hectares * pricePerHa;
        const minimumPrice = 250;
        const finalPrice = Math.max(totalPrice, minimumPrice);

        setTimeout(() => {
          alert(
            `Pago simulado realizado ‚úÖ

Plan: ${plan}
Hect√°reas: ${hectares.toFixed(2)} ha
Importe total: ‚Ç¨${finalPrice.toFixed(2)}

En producci√≥n, aqu√≠ se conectar√≠a con Stripe y tu backend para crear la suscripci√≥n.`
          );

          form.reset();
          cardElementInstance.clear();
          document.getElementById("calculated-hectares").value = "0.00 ha";
          document.getElementById("hectares").value = "0";
          submitBtn.disabled = true;
          btnText.textContent = "Dibuja tu finca para calcular el precio";
        }, 1500);
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      initializePaymentMap();
      initializeStripe();
    });
  </script>
</body>
</html>

